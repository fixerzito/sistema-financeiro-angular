<p-dialog header="Cadastrar nova categoria de transação" [modal]="true" [(visible)]="dialogVisivel"
    [style]="{ width: '69rem' }" (onHide)="fecharDialog()">
    <form class="main card flex flex-column justify-content-center" [formGroup]="formGroup">
        <div class="flex flex-column">
            <div class="mb-4">
                <div class="flex align-items-center gap-3 mb-3 mr-2">
                    <label for="categoria" class="font-semibold w-10rem">Nome da categoria <span
                            class="warning-text">*</span></label>
                    <p-iconField iconPosition="right">
                        <p-inputIcon styleClass="pi pi-spinner pi-spin" *ngIf="loadingValidationCategoriaNome" />
                        <input pInputText id="categoria" formControlName="nomeCategoria" class="flex-auto"
                            autocomplete="off" (blur)="validarNomeCategoriaNaoUtilizado()" />
                    </p-iconField>
                </div>
                <span class="warning-text">
                    {{ mensagemErroCategoria }}
                </span>
            </div>
            <div>
                <div class="flex align-items-center gap-3 mb-3 mr-4">
                    <label for="subcategoria" class="font-semibold w-10rem">Nome da subcategoria <span
                            class="warning-text">*</span></label>
                    <input pInputText id="subcategoria" formControlName="nomeSubcategoria" class="flex-auto"
                        autocomplete="off" />
                </div>
                <span class="warning-text">
                    {{ mensagemErroSubcategoria }}
                </span>
            </div>
            <div class="flex justify-content-end gap-2">
                <p-button label="Cancelar" (onClick)="cancelar()" severity="secondary" [outlined]="true"
                    icon="pi pi-undo" />
                <p-button label="Salvar" (onClick)="salvar()" icon="pi pi-save"
                    [disabled]="recorrenciaCategoria || recorrenciaSubcategoria" />
            </div>
        </div>
    </form>
</p-dialog>